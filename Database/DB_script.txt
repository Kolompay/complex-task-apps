CREATE TABLE Client (
	IDClient INT NOT NULL GENERATED ALWAYS AS IDENTITY PRIMARY KEY,
	Login VARCHAR(50) NOT NULL,
	Password VARCHAR(50) NOT NULL,
	FamilyName VARCHAR(50) NOT NULL,
	Name VARCHAR(50) NOT NULL,
	Patronymic VARCHAR(50) NOT NULL,
	PassportData INT NOT NULL,
	DriversLicense INT NOT NULL,
	NumberOfPhone VARCHAR(20) NOT NULL,
	IDBonusSystem INT NOT NULL DEFAULT 1,
	CONSTRAINT fk_idbonussystem_client FOREIGN KEY (IDBonusSystem) REFERENCES BonusSystem (IDBonusSystem)
);

CREATE TABLE Car (
	IDCar INT NOT NULL GENERATED ALWAYS AS IDENTITY PRIMARY KEY,
	VINnumber VARCHAR(50) NOT NULL,
	Brand VARCHAR(50) NOT NULL,
	Class VARCHAR(50) NOT NULL,
	Name VARCHAR(50) NOT NULL,
	Transmission VARCHAR(10) NOT NULL,
	Color VARCHAR(30) NOT NULL,
	YearOfManufacture SMALLINT NOT NULL,
	IDLocationCar INT NOT NULL DEFAULT 1,
	CONSTRAINT fk_idlocationcar_car FOREIGN KEY (IDLocationCar) REFERENCES LocationCar (IDLocationCar)
);

В кар добавить

CREATE TABLE Rate (
	IDRate INT NOT NULL GENERATED ALWAYS AS IDENTITY PRIMARY KEY,
	Description VARCHAR(50) NOT NULL,
	Cost MONEY NOT NULL,
	IDCar INT NOT NULL DEFAULT 1,
	CONSTRAINT fk_idcar_rate FOREIGN KEY (IDCar) REFERENCES Car (IDCar)
);

CREATE TABLE RentCar (
	IDRentCar INT NOT NULL GENERATED ALWAYS AS IDENTITY PRIMARY KEY,
	CountDaysRent TIMESTAMP NOT NULL,
	Cost MONEY NOT NULL,
	DateOfIssue DATE NOT NULL,	
	IDCar INT NOT NULL DEFAULT 1,
	IDClient INT NOT NULL DEFAULT 1,
	IDRate INT NOT NULL DEFAULT 1,
	CONSTRAINT fk_idcar_rentcar FOREIGN KEY (IDCar) REFERENCES Car (IDCar),
	CONSTRAINT fk_idclinet_rentcar FOREIGN KEY (IDClient) REFERENCES Client (IDClient),
	CONSTRAINT fk_idrate_rentcar FOREIGN KEY (IDRate) REFERENCES Rate (IDRate)
);

CREATE TABLE ReturnCar (
	IDReturnCar INT NOT NULL GENERATED ALWAYS AS IDENTITY PRIMARY KEY,
	Condition VARCHAR(50) NOT NULL,
	ReturnDate TIMESTAMP NOT NULL,
	IDCar INT NOT NULL DEFAULT 1,
	CONSTRAINT fk_idcar_returncar FOREIGN KEY (IDCar) REFERENCES Car (IDCar)
);

CREATE TABLE Fine (
	IDFine INT NOT NULL GENERATED ALWAYS AS IDENTITY PRIMARY KEY,
	Description VARCHAR(70) NOT NULL,
	Cost MONEY NOT NULL,
	DateFine TIMESTAMP NOT NULL,
	Status VARCHAR(10) NOT NULL,	
	IDClient INT NOT NULL DEFAULT 1,	
	CONSTRAINT fk_idclient_fine FOREIGN KEY (IDClient) REFERENCES Client (IDClient)
);

CREATE TABLE LocationCar (
	IDLocationCar INT NOT NULL GENERATED ALWAYS AS IDENTITY PRIMARY KEY,
	Adress VARCHAR(100) NOT NULL,
	Terrain VARCHAR(50) NOT NULL
);

CREATE TABLE BonusSystem (
	IDBonusSystem INT NOT NULL GENERATED ALWAYS AS IDENTITY PRIMARY KEY,
	Description VARCHAR(50) NOT NULL,
	DiscountPercent DECIMAL NOT NULL
);